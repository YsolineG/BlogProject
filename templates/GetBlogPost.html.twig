{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block body %}
    <section id="article">
        <div class="container">
            <a href="../public/index.php?route=allBlogPosts"><i class="bi bi-arrow-left-circle-fill" style="font-size: 4rem"></i></a>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>{{ blogPost.title }}</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <h3 class="text-center">{{ blogPost.chapeau }}</h3>
            <br>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p>{{ blogPost.content|raw }}</p>
                    <br>
                    <p>Créé le : {{ blogPost.createdAt }}</p>
                    <br>
                    <p>Par {{ blogPost.user.pseudo }}</p>
                    <br>
                    <p>Modifié le : {{ blogPost.updatedAt }}</p>
                </div>
            </div>
        </div>
    </section>
    <section class="success">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Ajouter un commentaire</h2>
                    <hr class="star-light">
                    {% if session.get('pseudo') == null %}
                    <p>Vous devez être connecté pour ajouter un commentaire</p>
                    {% endif %}
                    <p class="theme-primary text-center">{{ session.show('addComment') }}</p>
                    {% include('formComment.html.twig') %}
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Commentaires</h2>
                    <hr class="star-primary">
                    {% for comment in comments %}
                        <h4>{{ comment.content }}</h4>
                        <br>
                        <p>Posté le {{ comment.createdAt }}</p>
                        <br>
                        <p>Par {{ comment.user.pseudo }}</p>
                        <hr/>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>

{% endblock %}